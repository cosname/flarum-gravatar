{"version":3,"sources":["webpack://@cosname/gravatar/webpack/bootstrap","webpack://@cosname/gravatar/external \"flarum.core.compat['models/User']\"","webpack://@cosname/gravatar/./src/forum/helpers/md5.js","webpack://@cosname/gravatar/./src/forum/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","flarum","core","compat","safeAdd","x","y","lsw","md5cmn","q","a","b","num","cnt","md5ff","md5gg","md5hh","md5ii","binlMD5","len","olda","oldb","oldc","oldd","length","binl2rstr","input","output","length32","String","fromCharCode","rstr2binl","undefined","length8","charCodeAt","rstr2hex","charAt","str2rstrUTF8","unescape","encodeURIComponent","rawMD5","rstrMD5","rawHMACMD5","k","data","hash","bkey","ipad","opad","concat","rstrHMACMD5","md5","string","raw","app","initializers","add","User","avatarUrl","this","attribute","email","pushAttributes","avatarColor","calculateAvatarColor","image","Image","user","onload","colorThief","ColorThief","getColor","freshness","Date","redraw","crossOrigin","src"],"mappings":"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","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","module.exports = flarum.core.compat['models/User'];","/*\n * JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\n\n  /*\n  * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n  * to work around bugs in some JS interpreters.\n  */\n  function safeAdd (x, y) {\n    var lsw = (x & 0xFFFF) + (y & 0xFFFF)\n    var msw = (x >> 16) + (y >> 16) + (lsw >> 16)\n    return (msw << 16) | (lsw & 0xFFFF)\n  }\n\n  /*\n  * Bitwise rotate a 32-bit number to the left.\n  */\n  function bitRotateLeft (num, cnt) {\n    return (num << cnt) | (num >>> (32 - cnt))\n  }\n\n  /*\n  * These functions implement the four basic operations the algorithm uses.\n  */\n  function md5cmn (q, a, b, x, s, t) {\n    return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b)\n  }\n  function md5ff (a, b, c, d, x, s, t) {\n    return md5cmn((b & c) | ((~b) & d), a, b, x, s, t)\n  }\n  function md5gg (a, b, c, d, x, s, t) {\n    return md5cmn((b & d) | (c & (~d)), a, b, x, s, t)\n  }\n  function md5hh (a, b, c, d, x, s, t) {\n    return md5cmn(b ^ c ^ d, a, b, x, s, t)\n  }\n  function md5ii (a, b, c, d, x, s, t) {\n    return md5cmn(c ^ (b | (~d)), a, b, x, s, t)\n  }\n\n  /*\n  * Calculate the MD5 of an array of little-endian words, and a bit length.\n  */\n  function binlMD5 (x, len) {\n    /* append padding */\n    x[len >> 5] |= 0x80 << (len % 32)\n    x[(((len + 64) >>> 9) << 4) + 14] = len\n\n    var i\n    var olda\n    var oldb\n    var oldc\n    var oldd\n    var a = 1732584193\n    var b = -271733879\n    var c = -1732584194\n    var d = 271733878\n\n    for (i = 0; i < x.length; i += 16) {\n      olda = a\n      oldb = b\n      oldc = c\n      oldd = d\n\n      a = md5ff(a, b, c, d, x[i], 7, -680876936)\n      d = md5ff(d, a, b, c, x[i + 1], 12, -389564586)\n      c = md5ff(c, d, a, b, x[i + 2], 17, 606105819)\n      b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330)\n      a = md5ff(a, b, c, d, x[i + 4], 7, -176418897)\n      d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426)\n      c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341)\n      b = md5ff(b, c, d, a, x[i + 7], 22, -45705983)\n      a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416)\n      d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417)\n      c = md5ff(c, d, a, b, x[i + 10], 17, -42063)\n      b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162)\n      a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682)\n      d = md5ff(d, a, b, c, x[i + 13], 12, -40341101)\n      c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290)\n      b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329)\n\n      a = md5gg(a, b, c, d, x[i + 1], 5, -165796510)\n      d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632)\n      c = md5gg(c, d, a, b, x[i + 11], 14, 643717713)\n      b = md5gg(b, c, d, a, x[i], 20, -373897302)\n      a = md5gg(a, b, c, d, x[i + 5], 5, -701558691)\n      d = md5gg(d, a, b, c, x[i + 10], 9, 38016083)\n      c = md5gg(c, d, a, b, x[i + 15], 14, -660478335)\n      b = md5gg(b, c, d, a, x[i + 4], 20, -405537848)\n      a = md5gg(a, b, c, d, x[i + 9], 5, 568446438)\n      d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690)\n      c = md5gg(c, d, a, b, x[i + 3], 14, -187363961)\n      b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501)\n      a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467)\n      d = md5gg(d, a, b, c, x[i + 2], 9, -51403784)\n      c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473)\n      b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734)\n\n      a = md5hh(a, b, c, d, x[i + 5], 4, -378558)\n      d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463)\n      c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562)\n      b = md5hh(b, c, d, a, x[i + 14], 23, -35309556)\n      a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060)\n      d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353)\n      c = md5hh(c, d, a, b, x[i + 7], 16, -155497632)\n      b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640)\n      a = md5hh(a, b, c, d, x[i + 13], 4, 681279174)\n      d = md5hh(d, a, b, c, x[i], 11, -358537222)\n      c = md5hh(c, d, a, b, x[i + 3], 16, -722521979)\n      b = md5hh(b, c, d, a, x[i + 6], 23, 76029189)\n      a = md5hh(a, b, c, d, x[i + 9], 4, -640364487)\n      d = md5hh(d, a, b, c, x[i + 12], 11, -421815835)\n      c = md5hh(c, d, a, b, x[i + 15], 16, 530742520)\n      b = md5hh(b, c, d, a, x[i + 2], 23, -995338651)\n\n      a = md5ii(a, b, c, d, x[i], 6, -198630844)\n      d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415)\n      c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905)\n      b = md5ii(b, c, d, a, x[i + 5], 21, -57434055)\n      a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571)\n      d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606)\n      c = md5ii(c, d, a, b, x[i + 10], 15, -1051523)\n      b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799)\n      a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359)\n      d = md5ii(d, a, b, c, x[i + 15], 10, -30611744)\n      c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380)\n      b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649)\n      a = md5ii(a, b, c, d, x[i + 4], 6, -145523070)\n      d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379)\n      c = md5ii(c, d, a, b, x[i + 2], 15, 718787259)\n      b = md5ii(b, c, d, a, x[i + 9], 21, -343485551)\n\n      a = safeAdd(a, olda)\n      b = safeAdd(b, oldb)\n      c = safeAdd(c, oldc)\n      d = safeAdd(d, oldd)\n    }\n    return [a, b, c, d]\n  }\n\n  /*\n  * Convert an array of little-endian words to a string\n  */\n  function binl2rstr (input) {\n    var i\n    var output = ''\n    var length32 = input.length * 32\n    for (i = 0; i < length32; i += 8) {\n      output += String.fromCharCode((input[i >> 5] >>> (i % 32)) & 0xFF)\n    }\n    return output\n  }\n\n  /*\n  * Convert a raw string to an array of little-endian words\n  * Characters >255 have their high-byte silently ignored.\n  */\n  function rstr2binl (input) {\n    var i\n    var output = []\n    output[(input.length >> 2) - 1] = undefined\n    for (i = 0; i < output.length; i += 1) {\n      output[i] = 0\n    }\n    var length8 = input.length * 8\n    for (i = 0; i < length8; i += 8) {\n      output[i >> 5] |= (input.charCodeAt(i / 8) & 0xFF) << (i % 32)\n    }\n    return output\n  }\n\n  /*\n  * Calculate the MD5 of a raw string\n  */\n  function rstrMD5 (s) {\n    return binl2rstr(binlMD5(rstr2binl(s), s.length * 8))\n  }\n\n  /*\n  * Calculate the HMAC-MD5, of a key and some data (raw strings)\n  */\n  function rstrHMACMD5 (key, data) {\n    var i\n    var bkey = rstr2binl(key)\n    var ipad = []\n    var opad = []\n    var hash\n    ipad[15] = opad[15] = undefined\n    if (bkey.length > 16) {\n      bkey = binlMD5(bkey, key.length * 8)\n    }\n    for (i = 0; i < 16; i += 1) {\n      ipad[i] = bkey[i] ^ 0x36363636\n      opad[i] = bkey[i] ^ 0x5C5C5C5C\n    }\n    hash = binlMD5(ipad.concat(rstr2binl(data)), 512 + data.length * 8)\n    return binl2rstr(binlMD5(opad.concat(hash), 512 + 128))\n  }\n\n  /*\n  * Convert a raw string to a hex string\n  */\n  function rstr2hex (input) {\n    var hexTab = '0123456789abcdef'\n    var output = ''\n    var x\n    var i\n    for (i = 0; i < input.length; i += 1) {\n      x = input.charCodeAt(i)\n      output += hexTab.charAt((x >>> 4) & 0x0F) +\n      hexTab.charAt(x & 0x0F)\n    }\n    return output\n  }\n\n  /*\n  * Encode a string as utf-8\n  */\n  function str2rstrUTF8 (input) {\n    return unescape(encodeURIComponent(input))\n  }\n\n  /*\n  * Take string arguments and return either raw or hex encoded strings\n  */\n  function rawMD5 (s) {\n    return rstrMD5(str2rstrUTF8(s))\n  }\n  function hexMD5 (s) {\n    return rstr2hex(rawMD5(s))\n  }\n  function rawHMACMD5 (k, d) {\n    return rstrHMACMD5(str2rstrUTF8(k), str2rstrUTF8(d))\n  }\n  function hexHMACMD5 (k, d) {\n    return rstr2hex(rawHMACMD5(k, d))\n  }\n\nexport default function md5 (string, key, raw) {\n  if (!key) {\n    if (!raw) {\n      return hexMD5(string)\n    }\n    return rawMD5(string)\n  }\n  if (!raw) {\n    return hexHMACMD5(key, string)\n  }\n  return rawHMACMD5(key, string)\n}\n","/*\n* Copyright (c) Salva Machí <salvamb@sispixels.com>\n* Copyright (c) 2017 Yixuan Qiu\n*/\n\nimport User from 'flarum/models/User';\nimport md5 from './helpers/md5';\n\napp.initializers.add('cosname-gravatar', function() {\n\n    // Modify the function that returns the avatar URL\n    User.prototype.avatarUrl = function() {\n        var user = this;\n        var avatar_url = user.attribute('avatarUrl');\n\n        // If avatarURL has not been set\n        if (!avatar_url) {\n            // User email\n            var email = user.attribute('email');\n            if (email) {\n                // Calculate email hash and obtain the Gravatar link\n                // http://en.gravatar.com/site/implement/images/\n                var hash = md5(email);\n                user.pushAttributes({\n                    avatarUrl: 'https://www.gravatar.com/avatar/' + hash + '?d=identicon',\n                    avatarColor: null\n                });\n            }\n        }\n\n        return user.attribute('avatarUrl');\n    };\n\n    // Since the avatarUrl is now linking to Gravatar,\n    // we need to avoid cross origin errors\n    User.prototype.calculateAvatarColor = function() {\n        const image = new Image();\n        const user = this;\n\n        image.onload = function() {\n            const colorThief = new ColorThief();\n            user.avatarColor = colorThief.getColor(this);\n            user.freshness = new Date();\n            m.redraw();\n        };\n        // https://github.com/lokesh/color-thief/issues/20\n        image.crossOrigin = 'Anonymous';\n        image.src = this.avatarUrl();\n    };\n\n});\n"],"sourceRoot":""}