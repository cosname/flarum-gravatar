{"version":3,"sources":["webpack://@cosname/gravatar/webpack/bootstrap","webpack://@cosname/gravatar/external \"flarum.core.compat['models/User']\"","webpack://@cosname/gravatar/./src/forum/helpers/md5.js","webpack://@cosname/gravatar/./src/forum/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","flarum","core","compat","safeAdd","x","y","lsw","md5cmn","q","a","b","num","cnt","md5ff","md5gg","md5hh","md5ii","binlMD5","len","olda","oldb","oldc","oldd","length","binl2rstr","input","output","length32","String","fromCharCode","rstr2binl","undefined","length8","charCodeAt","rstr2hex","charAt","str2rstrUTF8","unescape","encodeURIComponent","rawMD5","rstrMD5","rawHMACMD5","k","data","hash","bkey","ipad","opad","concat","rstrHMACMD5","md5","string","raw","app","initializers","add","User","avatarUrl","this","attribute","email","pushAttributes","avatarColor","calculateAvatarColor","image","Image","user","onload","colorThief","ColorThief","getColor","freshness","Date","redraw","crossOrigin","src"],"mappings":"2BACA,IAAAA,EAAA,GAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAC,QAGA,IAAAC,EAAAJ,EAAAE,GAAA,CACAG,EAAAH,EACAI,GAAA,EACAH,QAAA,IAUA,OANAI,EAAAL,GAAAM,KAAAJ,EAAAD,QAAAC,IAAAD,QAAAF,GAGAG,EAAAE,GAAA,EAGAF,EAAAD,QA0DA,OArDAF,EAAAQ,EAAAF,EAGAN,EAAAS,EAAAV,EAGAC,EAAAU,EAAA,SAAAR,EAAAS,EAAAC,GACAZ,EAAAa,EAAAX,EAAAS,IACAG,OAAAC,eAAAb,EAAAS,EAAA,CAA0CK,YAAA,EAAAC,IAAAL,KAK1CZ,EAAAkB,EAAA,SAAAhB,GACA,oBAAAiB,eAAAC,aACAN,OAAAC,eAAAb,EAAAiB,OAAAC,YAAA,CAAwDC,MAAA,WAExDP,OAAAC,eAAAb,EAAA,cAAiDmB,OAAA,KAQjDrB,EAAAsB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAArB,EAAAqB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,iBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAX,OAAAY,OAAA,MAGA,GAFA1B,EAAAkB,EAAAO,GACAX,OAAAC,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAArB,EAAAU,EAAAe,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAzB,EAAA6B,EAAA,SAAA1B,GACA,IAAAS,EAAAT,KAAAqB,WACA,WAA2B,OAAArB,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAH,EAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAiB,EAAAC,GAAsD,OAAAjB,OAAAkB,UAAAC,eAAA1B,KAAAuB,EAAAC,IAGtD/B,EAAAkC,EAAA,GAIAlC,IAAAmC,EAAA,mBClFAhC,EAAAD,QAAAkC,OAAAC,KAAAC,OAAA,wECuBE,SAASC,EAASC,EAAGC,GACnB,IAAIC,GAAW,MAAJF,IAAmB,MAAJC,GAE1B,OADWD,GAAK,KAAOC,GAAK,KAAOC,GAAO,KAC3B,GAAa,MAANA,EAaxB,SAASC,EAAQC,EAAGC,EAAGC,EAAGN,EAAGL,EAAGb,GAC9B,OAAOiB,GAReQ,EAQOR,EAAQA,EAAQM,EAAGD,GAAIL,EAAQC,EAAGlB,OARpC0B,EAQyCb,GAP7CY,IAAS,GAAKC,EAOmCF,GAR1E,IAAwBC,EAAKC,EAU7B,SAASC,EAAOJ,EAAGC,EAAGrC,EAAGC,EAAG8B,EAAGL,EAAGb,GAChC,OAAOqB,EAAQG,EAAIrC,GAAQqC,EAAKpC,EAAImC,EAAGC,EAAGN,EAAGL,EAAGb,GAElD,SAAS4B,EAAOL,EAAGC,EAAGrC,EAAGC,EAAG8B,EAAGL,EAAGb,GAChC,OAAOqB,EAAQG,EAAIpC,EAAMD,GAAMC,EAAKmC,EAAGC,EAAGN,EAAGL,EAAGb,GAElD,SAAS6B,EAAON,EAAGC,EAAGrC,EAAGC,EAAG8B,EAAGL,EAAGb,GAChC,OAAOqB,EAAOG,EAAIrC,EAAIC,EAAGmC,EAAGC,EAAGN,EAAGL,EAAGb,GAEvC,SAAS8B,EAAOP,EAAGC,EAAGrC,EAAGC,EAAG8B,EAAGL,EAAGb,GAChC,OAAOqB,EAAOlC,GAAKqC,GAAMpC,GAAKmC,EAAGC,EAAGN,EAAGL,EAAGb,GAM5C,SAAS+B,EAASb,EAAGc,GAKnB,IAAIlD,EACAmD,EACAC,EACAC,EACAC,EAPJlB,EAAEc,GAAO,IAAM,KAASA,EAAM,GAC9Bd,EAA8B,IAAzBc,EAAM,KAAQ,GAAM,IAAWA,EAOpC,IAAIT,EAAI,WACJC,GAAK,UACLrC,GAAK,WACLC,EAAI,UAER,IAAKN,EAAI,EAAGA,EAAIoC,EAAEmB,OAAQvD,GAAK,GAC7BmD,EAAOV,EACPW,EAAOV,EACPW,EAAOhD,EACPiD,EAAOhD,EAEPmC,EAAII,EAAMJ,EAAGC,EAAGrC,EAAGC,EAAG8B,EAAEpC,GAAI,GAAI,WAChCM,EAAIuC,EAAMvC,EAAGmC,EAAGC,EAAGrC,EAAG+B,EAAEpC,EAAI,GAAI,IAAK,WACrCK,EAAIwC,EAAMxC,EAAGC,EAAGmC,EAAGC,EAAGN,EAAEpC,EAAI,GAAI,GAAI,WACpC0C,EAAIG,EAAMH,EAAGrC,EAAGC,EAAGmC,EAAGL,EAAEpC,EAAI,GAAI,IAAK,YACrCyC,EAAII,EAAMJ,EAAGC,EAAGrC,EAAGC,EAAG8B,EAAEpC,EAAI,GAAI,GAAI,WACpCM,EAAIuC,EAAMvC,EAAGmC,EAAGC,EAAGrC,EAAG+B,EAAEpC,EAAI,GAAI,GAAI,YACpCK,EAAIwC,EAAMxC,EAAGC,EAAGmC,EAAGC,EAAGN,EAAEpC,EAAI,GAAI,IAAK,YACrC0C,EAAIG,EAAMH,EAAGrC,EAAGC,EAAGmC,EAAGL,EAAEpC,EAAI,GAAI,IAAK,UACrCyC,EAAII,EAAMJ,EAAGC,EAAGrC,EAAGC,EAAG8B,EAAEpC,EAAI,GAAI,EAAG,YACnCM,EAAIuC,EAAMvC,EAAGmC,EAAGC,EAAGrC,EAAG+B,EAAEpC,EAAI,GAAI,IAAK,YACrCK,EAAIwC,EAAMxC,EAAGC,EAAGmC,EAAGC,EAAGN,EAAEpC,EAAI,IAAK,IAAK,OACtC0C,EAAIG,EAAMH,EAAGrC,EAAGC,EAAGmC,EAAGL,EAAEpC,EAAI,IAAK,IAAK,YACtCyC,EAAII,EAAMJ,EAAGC,EAAGrC,EAAGC,EAAG8B,EAAEpC,EAAI,IAAK,EAAG,YACpCM,EAAIuC,EAAMvC,EAAGmC,EAAGC,EAAGrC,EAAG+B,EAAEpC,EAAI,IAAK,IAAK,UACtCK,EAAIwC,EAAMxC,EAAGC,EAAGmC,EAAGC,EAAGN,EAAEpC,EAAI,IAAK,IAAK,YAGtCyC,EAAIK,EAAML,EAFVC,EAAIG,EAAMH,EAAGrC,EAAGC,EAAGmC,EAAGL,EAAEpC,EAAI,IAAK,GAAI,YAErBK,EAAGC,EAAG8B,EAAEpC,EAAI,GAAI,GAAI,WACpCM,EAAIwC,EAAMxC,EAAGmC,EAAGC,EAAGrC,EAAG+B,EAAEpC,EAAI,GAAI,GAAI,YACpCK,EAAIyC,EAAMzC,EAAGC,EAAGmC,EAAGC,EAAGN,EAAEpC,EAAI,IAAK,GAAI,WACrC0C,EAAII,EAAMJ,EAAGrC,EAAGC,EAAGmC,EAAGL,EAAEpC,GAAI,IAAK,WACjCyC,EAAIK,EAAML,EAAGC,EAAGrC,EAAGC,EAAG8B,EAAEpC,EAAI,GAAI,GAAI,WACpCM,EAAIwC,EAAMxC,EAAGmC,EAAGC,EAAGrC,EAAG+B,EAAEpC,EAAI,IAAK,EAAG,UACpCK,EAAIyC,EAAMzC,EAAGC,EAAGmC,EAAGC,EAAGN,EAAEpC,EAAI,IAAK,IAAK,WACtC0C,EAAII,EAAMJ,EAAGrC,EAAGC,EAAGmC,EAAGL,EAAEpC,EAAI,GAAI,IAAK,WACrCyC,EAAIK,EAAML,EAAGC,EAAGrC,EAAGC,EAAG8B,EAAEpC,EAAI,GAAI,EAAG,WACnCM,EAAIwC,EAAMxC,EAAGmC,EAAGC,EAAGrC,EAAG+B,EAAEpC,EAAI,IAAK,GAAI,YACrCK,EAAIyC,EAAMzC,EAAGC,EAAGmC,EAAGC,EAAGN,EAAEpC,EAAI,GAAI,IAAK,WACrC0C,EAAII,EAAMJ,EAAGrC,EAAGC,EAAGmC,EAAGL,EAAEpC,EAAI,GAAI,GAAI,YACpCyC,EAAIK,EAAML,EAAGC,EAAGrC,EAAGC,EAAG8B,EAAEpC,EAAI,IAAK,GAAI,YACrCM,EAAIwC,EAAMxC,EAAGmC,EAAGC,EAAGrC,EAAG+B,EAAEpC,EAAI,GAAI,GAAI,UACpCK,EAAIyC,EAAMzC,EAAGC,EAAGmC,EAAGC,EAAGN,EAAEpC,EAAI,GAAI,GAAI,YAGpCyC,EAAIM,EAAMN,EAFVC,EAAII,EAAMJ,EAAGrC,EAAGC,EAAGmC,EAAGL,EAAEpC,EAAI,IAAK,IAAK,YAEtBK,EAAGC,EAAG8B,EAAEpC,EAAI,GAAI,GAAI,QACpCM,EAAIyC,EAAMzC,EAAGmC,EAAGC,EAAGrC,EAAG+B,EAAEpC,EAAI,GAAI,IAAK,YACrCK,EAAI0C,EAAM1C,EAAGC,EAAGmC,EAAGC,EAAGN,EAAEpC,EAAI,IAAK,GAAI,YACrC0C,EAAIK,EAAML,EAAGrC,EAAGC,EAAGmC,EAAGL,EAAEpC,EAAI,IAAK,IAAK,UACtCyC,EAAIM,EAAMN,EAAGC,EAAGrC,EAAGC,EAAG8B,EAAEpC,EAAI,GAAI,GAAI,YACpCM,EAAIyC,EAAMzC,EAAGmC,EAAGC,EAAGrC,EAAG+B,EAAEpC,EAAI,GAAI,GAAI,YACpCK,EAAI0C,EAAM1C,EAAGC,EAAGmC,EAAGC,EAAGN,EAAEpC,EAAI,GAAI,IAAK,WACrC0C,EAAIK,EAAML,EAAGrC,EAAGC,EAAGmC,EAAGL,EAAEpC,EAAI,IAAK,IAAK,YACtCyC,EAAIM,EAAMN,EAAGC,EAAGrC,EAAGC,EAAG8B,EAAEpC,EAAI,IAAK,EAAG,WACpCM,EAAIyC,EAAMzC,EAAGmC,EAAGC,EAAGrC,EAAG+B,EAAEpC,GAAI,IAAK,WACjCK,EAAI0C,EAAM1C,EAAGC,EAAGmC,EAAGC,EAAGN,EAAEpC,EAAI,GAAI,IAAK,WACrC0C,EAAIK,EAAML,EAAGrC,EAAGC,EAAGmC,EAAGL,EAAEpC,EAAI,GAAI,GAAI,UACpCyC,EAAIM,EAAMN,EAAGC,EAAGrC,EAAGC,EAAG8B,EAAEpC,EAAI,GAAI,GAAI,WACpCM,EAAIyC,EAAMzC,EAAGmC,EAAGC,EAAGrC,EAAG+B,EAAEpC,EAAI,IAAK,IAAK,WACtCK,EAAI0C,EAAM1C,EAAGC,EAAGmC,EAAGC,EAAGN,EAAEpC,EAAI,IAAK,GAAI,WAGrCyC,EAAIO,EAAMP,EAFVC,EAAIK,EAAML,EAAGrC,EAAGC,EAAGmC,EAAGL,EAAEpC,EAAI,GAAI,IAAK,WAErBK,EAAGC,EAAG8B,EAAEpC,GAAI,GAAI,WAChCM,EAAI0C,EAAM1C,EAAGmC,EAAGC,EAAGrC,EAAG+B,EAAEpC,EAAI,GAAI,GAAI,YACpCK,EAAI2C,EAAM3C,EAAGC,EAAGmC,EAAGC,EAAGN,EAAEpC,EAAI,IAAK,IAAK,YACtC0C,EAAIM,EAAMN,EAAGrC,EAAGC,EAAGmC,EAAGL,EAAEpC,EAAI,GAAI,IAAK,UACrCyC,EAAIO,EAAMP,EAAGC,EAAGrC,EAAGC,EAAG8B,EAAEpC,EAAI,IAAK,EAAG,YACpCM,EAAI0C,EAAM1C,EAAGmC,EAAGC,EAAGrC,EAAG+B,EAAEpC,EAAI,GAAI,IAAK,YACrCK,EAAI2C,EAAM3C,EAAGC,EAAGmC,EAAGC,EAAGN,EAAEpC,EAAI,IAAK,IAAK,SACtC0C,EAAIM,EAAMN,EAAGrC,EAAGC,EAAGmC,EAAGL,EAAEpC,EAAI,GAAI,IAAK,YACrCyC,EAAIO,EAAMP,EAAGC,EAAGrC,EAAGC,EAAG8B,EAAEpC,EAAI,GAAI,EAAG,YACnCM,EAAI0C,EAAM1C,EAAGmC,EAAGC,EAAGrC,EAAG+B,EAAEpC,EAAI,IAAK,IAAK,UACtCK,EAAI2C,EAAM3C,EAAGC,EAAGmC,EAAGC,EAAGN,EAAEpC,EAAI,GAAI,IAAK,YACrC0C,EAAIM,EAAMN,EAAGrC,EAAGC,EAAGmC,EAAGL,EAAEpC,EAAI,IAAK,GAAI,YACrCyC,EAAIO,EAAMP,EAAGC,EAAGrC,EAAGC,EAAG8B,EAAEpC,EAAI,GAAI,GAAI,WACpCM,EAAI0C,EAAM1C,EAAGmC,EAAGC,EAAGrC,EAAG+B,EAAEpC,EAAI,IAAK,IAAK,YACtCK,EAAI2C,EAAM3C,EAAGC,EAAGmC,EAAGC,EAAGN,EAAEpC,EAAI,GAAI,GAAI,WACpC0C,EAAIM,EAAMN,EAAGrC,EAAGC,EAAGmC,EAAGL,EAAEpC,EAAI,GAAI,IAAK,WAErCyC,EAAIN,EAAQM,EAAGU,GACfT,EAAIP,EAAQO,EAAGU,GACf/C,EAAI8B,EAAQ9B,EAAGgD,GACf/C,EAAI6B,EAAQ7B,EAAGgD,GAEjB,MAAO,CAACb,EAAGC,EAAGrC,EAAGC,GAMnB,SAASkD,EAAWC,GAClB,IAAIzD,EACA0D,EAAS,GACTC,EAA0B,GAAfF,EAAMF,OACrB,IAAKvD,EAAI,EAAGA,EAAI2D,EAAU3D,GAAK,EAC7B0D,GAAUE,OAAOC,aAAcJ,EAAMzD,GAAK,KAAQA,EAAI,GAAO,KAE/D,OAAO0D,EAOT,SAASI,EAAWL,GAClB,IAAIzD,EACA0D,EAAS,GAEb,IADAA,GAAQD,EAAMF,QAAU,GAAK,QAAKQ,EAC7B/D,EAAI,EAAGA,EAAI0D,EAAOH,OAAQvD,GAAK,EAClC0D,EAAO1D,GAAK,EAEd,IAAIgE,EAAyB,EAAfP,EAAMF,OACpB,IAAKvD,EAAI,EAAGA,EAAIgE,EAAShE,GAAK,EAC5B0D,EAAO1D,GAAK,KAAiC,IAA1ByD,EAAMQ,WAAWjE,EAAI,KAAeA,EAAI,GAE7D,OAAO0D,EAkCT,SAASQ,EAAUT,GACjB,IAEIrB,EACApC,EAFA0D,EAAS,GAGb,IAAK1D,EAAI,EAAGA,EAAIyD,EAAMF,OAAQvD,GAAK,EACjCoC,EAAIqB,EAAMQ,WAAWjE,GACrB0D,GANW,mBAMMS,OAAQ/B,IAAM,EAAK,IANzB,mBAOJ+B,OAAW,GAAJ/B,GAEhB,OAAOsB,EAMT,SAASU,EAAcX,GACrB,OAAOY,SAASC,mBAAmBb,IAMrC,SAASc,EAAQxC,GACf,OApDF,SAAkBA,GAChB,OAAOyB,EAAUP,EAAQa,EAAU/B,GAAe,EAAXA,EAAEwB,SAmDlCiB,CAAQJ,EAAarC,IAK9B,SAAS0C,EAAYC,EAAGpE,GACtB,OAnDF,SAAsBiB,EAAKoD,GACzB,IAAI3E,EAIA4E,EAHAC,EAAOf,EAAUvC,GACjBuD,EAAO,GACPC,EAAO,GAMX,IAJAD,EAAK,IAAMC,EAAK,SAAMhB,EAClBc,EAAKtB,OAAS,KAChBsB,EAAO5B,EAAQ4B,EAAmB,EAAbtD,EAAIgC,SAEtBvD,EAAI,EAAGA,EAAI,GAAIA,GAAK,EACvB8E,EAAK9E,GAAe,UAAV6E,EAAK7E,GACf+E,EAAK/E,GAAe,WAAV6E,EAAK7E,GAGjB,OADA4E,EAAO3B,EAAQ6B,EAAKE,OAAOlB,EAAUa,IAAQ,IAAoB,EAAdA,EAAKpB,QACjDC,EAAUP,EAAQ8B,EAAKC,OAAOJ,GAAO,MAoCrCK,CAAYb,EAAaM,GAAIN,EAAa9D,IAMtC,SAAS4E,EAAKC,EAAQ5D,EAAK6D,GACxC,OAAK7D,EAMA6D,EAGEX,EAAWlD,EAAK4D,GAbdjB,EAASO,EAWElD,EAAK4D,IANlBC,EAGEb,EAAOY,GAdPjB,EAASK,EAYAY,ICxPpBE,IAAIC,aAAaC,IAAI,mBAAoB,WAGrCC,IAAK5D,UAAU6D,UAAY,WAKvB,IAJWC,KACWC,UAAU,aAGf,CAEb,IAAIC,EANGF,KAMUC,UAAU,SAC3B,GAAIC,EAAO,CAGP,IAAIhB,EAAOM,EAAIU,GAVZF,KAWEG,eAAe,CAChBJ,UAAW,mCAAqCb,EAAO,eACvDkB,YAAa,QAKzB,OAlBWJ,KAkBCC,UAAU,cAK1BH,IAAK5D,UAAUmE,qBAAuB,WAClC,IAAMC,EAAQ,IAAIC,MACZC,EAAOR,KAEbM,EAAMG,OAAS,WACX,IAAMC,EAAa,IAAIC,WACvBH,EAAKJ,YAAcM,EAAWE,SAASZ,MACvCQ,EAAKK,UAAY,IAAIC,KACrBpG,EAAEqG,UAGNT,EAAMU,YAAc,YACpBV,EAAMW,IAAMjB,KAAKD","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","module.exports = flarum.core.compat['models/User'];","/*\r\n * JavaScript MD5\r\n * https://github.com/blueimp/JavaScript-MD5\r\n *\r\n * Copyright 2011, Sebastian Tschan\r\n * https://blueimp.net\r\n *\r\n * Licensed under the MIT license:\r\n * https://opensource.org/licenses/MIT\r\n *\r\n * Based on\r\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\r\n * Digest Algorithm, as defined in RFC 1321.\r\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\r\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\r\n * Distributed under the BSD License\r\n * See http://pajhome.org.uk/crypt/md5 for more info.\r\n */\r\n\r\n  /*\r\n  * Add integers, wrapping at 2^32. This uses 16-bit operations internally\r\n  * to work around bugs in some JS interpreters.\r\n  */\r\n  function safeAdd (x, y) {\r\n    var lsw = (x & 0xFFFF) + (y & 0xFFFF)\r\n    var msw = (x >> 16) + (y >> 16) + (lsw >> 16)\r\n    return (msw << 16) | (lsw & 0xFFFF)\r\n  }\r\n\r\n  /*\r\n  * Bitwise rotate a 32-bit number to the left.\r\n  */\r\n  function bitRotateLeft (num, cnt) {\r\n    return (num << cnt) | (num >>> (32 - cnt))\r\n  }\r\n\r\n  /*\r\n  * These functions implement the four basic operations the algorithm uses.\r\n  */\r\n  function md5cmn (q, a, b, x, s, t) {\r\n    return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b)\r\n  }\r\n  function md5ff (a, b, c, d, x, s, t) {\r\n    return md5cmn((b & c) | ((~b) & d), a, b, x, s, t)\r\n  }\r\n  function md5gg (a, b, c, d, x, s, t) {\r\n    return md5cmn((b & d) | (c & (~d)), a, b, x, s, t)\r\n  }\r\n  function md5hh (a, b, c, d, x, s, t) {\r\n    return md5cmn(b ^ c ^ d, a, b, x, s, t)\r\n  }\r\n  function md5ii (a, b, c, d, x, s, t) {\r\n    return md5cmn(c ^ (b | (~d)), a, b, x, s, t)\r\n  }\r\n\r\n  /*\r\n  * Calculate the MD5 of an array of little-endian words, and a bit length.\r\n  */\r\n  function binlMD5 (x, len) {\r\n    /* append padding */\r\n    x[len >> 5] |= 0x80 << (len % 32)\r\n    x[(((len + 64) >>> 9) << 4) + 14] = len\r\n\r\n    var i\r\n    var olda\r\n    var oldb\r\n    var oldc\r\n    var oldd\r\n    var a = 1732584193\r\n    var b = -271733879\r\n    var c = -1732584194\r\n    var d = 271733878\r\n\r\n    for (i = 0; i < x.length; i += 16) {\r\n      olda = a\r\n      oldb = b\r\n      oldc = c\r\n      oldd = d\r\n\r\n      a = md5ff(a, b, c, d, x[i], 7, -680876936)\r\n      d = md5ff(d, a, b, c, x[i + 1], 12, -389564586)\r\n      c = md5ff(c, d, a, b, x[i + 2], 17, 606105819)\r\n      b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330)\r\n      a = md5ff(a, b, c, d, x[i + 4], 7, -176418897)\r\n      d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426)\r\n      c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341)\r\n      b = md5ff(b, c, d, a, x[i + 7], 22, -45705983)\r\n      a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416)\r\n      d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417)\r\n      c = md5ff(c, d, a, b, x[i + 10], 17, -42063)\r\n      b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162)\r\n      a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682)\r\n      d = md5ff(d, a, b, c, x[i + 13], 12, -40341101)\r\n      c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290)\r\n      b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329)\r\n\r\n      a = md5gg(a, b, c, d, x[i + 1], 5, -165796510)\r\n      d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632)\r\n      c = md5gg(c, d, a, b, x[i + 11], 14, 643717713)\r\n      b = md5gg(b, c, d, a, x[i], 20, -373897302)\r\n      a = md5gg(a, b, c, d, x[i + 5], 5, -701558691)\r\n      d = md5gg(d, a, b, c, x[i + 10], 9, 38016083)\r\n      c = md5gg(c, d, a, b, x[i + 15], 14, -660478335)\r\n      b = md5gg(b, c, d, a, x[i + 4], 20, -405537848)\r\n      a = md5gg(a, b, c, d, x[i + 9], 5, 568446438)\r\n      d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690)\r\n      c = md5gg(c, d, a, b, x[i + 3], 14, -187363961)\r\n      b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501)\r\n      a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467)\r\n      d = md5gg(d, a, b, c, x[i + 2], 9, -51403784)\r\n      c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473)\r\n      b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734)\r\n\r\n      a = md5hh(a, b, c, d, x[i + 5], 4, -378558)\r\n      d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463)\r\n      c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562)\r\n      b = md5hh(b, c, d, a, x[i + 14], 23, -35309556)\r\n      a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060)\r\n      d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353)\r\n      c = md5hh(c, d, a, b, x[i + 7], 16, -155497632)\r\n      b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640)\r\n      a = md5hh(a, b, c, d, x[i + 13], 4, 681279174)\r\n      d = md5hh(d, a, b, c, x[i], 11, -358537222)\r\n      c = md5hh(c, d, a, b, x[i + 3], 16, -722521979)\r\n      b = md5hh(b, c, d, a, x[i + 6], 23, 76029189)\r\n      a = md5hh(a, b, c, d, x[i + 9], 4, -640364487)\r\n      d = md5hh(d, a, b, c, x[i + 12], 11, -421815835)\r\n      c = md5hh(c, d, a, b, x[i + 15], 16, 530742520)\r\n      b = md5hh(b, c, d, a, x[i + 2], 23, -995338651)\r\n\r\n      a = md5ii(a, b, c, d, x[i], 6, -198630844)\r\n      d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415)\r\n      c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905)\r\n      b = md5ii(b, c, d, a, x[i + 5], 21, -57434055)\r\n      a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571)\r\n      d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606)\r\n      c = md5ii(c, d, a, b, x[i + 10], 15, -1051523)\r\n      b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799)\r\n      a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359)\r\n      d = md5ii(d, a, b, c, x[i + 15], 10, -30611744)\r\n      c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380)\r\n      b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649)\r\n      a = md5ii(a, b, c, d, x[i + 4], 6, -145523070)\r\n      d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379)\r\n      c = md5ii(c, d, a, b, x[i + 2], 15, 718787259)\r\n      b = md5ii(b, c, d, a, x[i + 9], 21, -343485551)\r\n\r\n      a = safeAdd(a, olda)\r\n      b = safeAdd(b, oldb)\r\n      c = safeAdd(c, oldc)\r\n      d = safeAdd(d, oldd)\r\n    }\r\n    return [a, b, c, d]\r\n  }\r\n\r\n  /*\r\n  * Convert an array of little-endian words to a string\r\n  */\r\n  function binl2rstr (input) {\r\n    var i\r\n    var output = ''\r\n    var length32 = input.length * 32\r\n    for (i = 0; i < length32; i += 8) {\r\n      output += String.fromCharCode((input[i >> 5] >>> (i % 32)) & 0xFF)\r\n    }\r\n    return output\r\n  }\r\n\r\n  /*\r\n  * Convert a raw string to an array of little-endian words\r\n  * Characters >255 have their high-byte silently ignored.\r\n  */\r\n  function rstr2binl (input) {\r\n    var i\r\n    var output = []\r\n    output[(input.length >> 2) - 1] = undefined\r\n    for (i = 0; i < output.length; i += 1) {\r\n      output[i] = 0\r\n    }\r\n    var length8 = input.length * 8\r\n    for (i = 0; i < length8; i += 8) {\r\n      output[i >> 5] |= (input.charCodeAt(i / 8) & 0xFF) << (i % 32)\r\n    }\r\n    return output\r\n  }\r\n\r\n  /*\r\n  * Calculate the MD5 of a raw string\r\n  */\r\n  function rstrMD5 (s) {\r\n    return binl2rstr(binlMD5(rstr2binl(s), s.length * 8))\r\n  }\r\n\r\n  /*\r\n  * Calculate the HMAC-MD5, of a key and some data (raw strings)\r\n  */\r\n  function rstrHMACMD5 (key, data) {\r\n    var i\r\n    var bkey = rstr2binl(key)\r\n    var ipad = []\r\n    var opad = []\r\n    var hash\r\n    ipad[15] = opad[15] = undefined\r\n    if (bkey.length > 16) {\r\n      bkey = binlMD5(bkey, key.length * 8)\r\n    }\r\n    for (i = 0; i < 16; i += 1) {\r\n      ipad[i] = bkey[i] ^ 0x36363636\r\n      opad[i] = bkey[i] ^ 0x5C5C5C5C\r\n    }\r\n    hash = binlMD5(ipad.concat(rstr2binl(data)), 512 + data.length * 8)\r\n    return binl2rstr(binlMD5(opad.concat(hash), 512 + 128))\r\n  }\r\n\r\n  /*\r\n  * Convert a raw string to a hex string\r\n  */\r\n  function rstr2hex (input) {\r\n    var hexTab = '0123456789abcdef'\r\n    var output = ''\r\n    var x\r\n    var i\r\n    for (i = 0; i < input.length; i += 1) {\r\n      x = input.charCodeAt(i)\r\n      output += hexTab.charAt((x >>> 4) & 0x0F) +\r\n      hexTab.charAt(x & 0x0F)\r\n    }\r\n    return output\r\n  }\r\n\r\n  /*\r\n  * Encode a string as utf-8\r\n  */\r\n  function str2rstrUTF8 (input) {\r\n    return unescape(encodeURIComponent(input))\r\n  }\r\n\r\n  /*\r\n  * Take string arguments and return either raw or hex encoded strings\r\n  */\r\n  function rawMD5 (s) {\r\n    return rstrMD5(str2rstrUTF8(s))\r\n  }\r\n  function hexMD5 (s) {\r\n    return rstr2hex(rawMD5(s))\r\n  }\r\n  function rawHMACMD5 (k, d) {\r\n    return rstrHMACMD5(str2rstrUTF8(k), str2rstrUTF8(d))\r\n  }\r\n  function hexHMACMD5 (k, d) {\r\n    return rstr2hex(rawHMACMD5(k, d))\r\n  }\r\n\r\nexport default function md5 (string, key, raw) {\r\n  if (!key) {\r\n    if (!raw) {\r\n      return hexMD5(string)\r\n    }\r\n    return rawMD5(string)\r\n  }\r\n  if (!raw) {\r\n    return hexHMACMD5(key, string)\r\n  }\r\n  return rawHMACMD5(key, string)\r\n}\r\n","/*\r\n* Copyright (c) Salva Mach√≠ <salvamb@sispixels.com>\r\n* Copyright (c) 2017 Yixuan Qiu\r\n*/\r\n\r\nimport User from 'flarum/models/User';\r\nimport md5 from './helpers/md5';\r\n\r\napp.initializers.add('cosname-gravatar', function() {\r\n\r\n    // Modify the function that returns the avatar URL\r\n    User.prototype.avatarUrl = function() {\r\n        var user = this;\r\n        var avatar_url = user.attribute('avatarUrl');\r\n\r\n        // If avatarURL has not been set\r\n        if (!avatar_url) {\r\n            // User email\r\n            var email = user.attribute('email');\r\n            if (email) {\r\n                // Calculate email hash and obtain the Gravatar link\r\n                // http://en.gravatar.com/site/implement/images/\r\n                var hash = md5(email);\r\n                user.pushAttributes({\r\n                    avatarUrl: 'https://www.gravatar.com/avatar/' + hash + '?d=identicon',\r\n                    avatarColor: null\r\n                });\r\n            }\r\n        }\r\n\r\n        return user.attribute('avatarUrl');\r\n    };\r\n\r\n    // Since the avatarUrl is now linking to Gravatar,\r\n    // we need to avoid cross origin errors\r\n    User.prototype.calculateAvatarColor = function() {\r\n        const image = new Image();\r\n        const user = this;\r\n\r\n        image.onload = function() {\r\n            const colorThief = new ColorThief();\r\n            user.avatarColor = colorThief.getColor(this);\r\n            user.freshness = new Date();\r\n            m.redraw();\r\n        };\r\n        // https://github.com/lokesh/color-thief/issues/20\r\n        image.crossOrigin = 'Anonymous';\r\n        image.src = this.avatarUrl();\r\n    };\r\n\r\n});\r\n"],"sourceRoot":""}